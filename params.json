{
  "name": "Apate",
  "tagline": "Your Friendly Neighbourhood Honeypot Maker and Manager",
  "body": "# Apate\r\n\r\n## Abstract\r\n![Apate Logo](https://github.com/ytisf/apate/raw/master/docs/logos/logo.jpg \"Apate Logo\")\r\n\r\n**Apate** is a user-friendly, CISO-friendly configuration, management and acquisition tool for honeyd. [honeyd](http://www.honeyd.org/index.php) is a wonderful tool. As the authors wrote *\"Honeyd is a small daemon that creates virtual hosts on a network. The hosts can be configured to run arbitrary services, and their personality can be adapted so that they appear to be running certain operating systems.\"*. honeyd is very well written with many features and capabilities to simulate honeypots across your network. The main challenge this tool raises is the complication level of deploying those honeypots along with managing and understanding the logfiles it create.\r\nFor this purpose **Apate** as created. **Apate** does not replace honeyd or its functionality but rather to provide a usable interface for configuring, deploying and receiving the logs of the system.\r\n\r\n## Installation & Configuration\r\nIn order for **Apate** to work it needs to have 2 things:\r\n  1. A server to run **Apate**.\r\n     You will use this to configure the hosts and virtual environment. It will also collect and display the incoming information from the honeypot to use.\r\n  1. At least one honeypot host.\r\n     You will configure this server to run the actual honeypots and collect and report the logs back to the main server for analysis and visualization.\r\n\r\n### Creating Honeypot Host Machine\r\n 1. Use a debian based image. Preferably an Ubuntu or Raspbian. We'll first need to install some packages for the compilation process as we are to assume that the package `honeyd` does not exist in the repository.\r\n\r\n ```bash\r\n sudo apt-get install farpd libevent-dev libdumbnet-dev libpcap-dev libpcre3-dev libedit-dev bison flex libtool automake1.11 git zlib1g-dev openssh-server\r\n ```\r\n\r\n 1. After we have got them all installed go a head and clone the original repository for the compilation process.\r\n\r\n ```bash\r\n git clone https://github.com/DataSoft/Honeyd\r\n ```\r\n\r\n 3. To start the compilation process:\r\n ```bash\r\n cd Honeyd\r\n ./autogen.sh\r\n ./configure\r\n make\r\n sudo make install\r\n ```\r\n\r\n At this stage `honeyd` should be ready for use if everything went okay. You can verify that `honeyd` finished installation by typing in `which honeyd` and see if you get the location of the honeyd installation binary.\r\n\r\n 1. Add the user to sudoers and configure no password for `sudo` command. Add the user you're working on to the sudoers for no password requested. Edit `/etc/sudoers` and add the following line:\r\n\r\n `username ALL=(ALL) NOPASSWD:ALL`\r\n\r\n\r\n 1. Change permissing to important directories. There are several directories used by this. Make sure that permissions on them are 777.  If you're not sure just copy-paste this:\r\n ```bash\r\n sudo mkdir -p /var/logs/winnie\r\n sudo mkdir -p /etc/winnie\r\n sudo chmod 755 /var/logs/winnie\r\n sudo chmod 755 /etc/winnie\r\n ```\r\n\r\n### Configure the Main Server\r\nSo on this server you're going to configure and run the main code to which **Apate** is relevant. Get the source using `git` and clone it to that machine.\r\n\r\nAfter that, the only thing you should do for it to work is:\r\n```bash\r\nsudo pip install -r requirements.txt\r\n```\r\n\r\nOf course you need to have `python` and `pip` installed in order to use the previous command.\r\n\r\n\r\n## Usage\r\nAfter you've installed everything you should be able to run **Apate** without an issue. First, you should configure/create a database. By default **Apate** uses `SQLite3` as the engine but you can replace that by going to the Django `settings.py` in the `WP` folder.\r\nAssuming you want to keep on with the default DB engine you should create an empty database with the appropriate structure by issuing the following command.\r\n```bash\r\npython manage.py migrate\r\n```\r\nAfter this you can start the server on the [localhost](http://127.0.0.1:8000) by running:\r\n```bash\r\npython manage.py runserver\r\n```\r\nOr you can run it and make it accisble from any machine by:\r\nrunning:\r\n```bash\r\nsudo python manage.py runserver 0.0.0.0:80\r\n```\r\n\r\n### Configure SwarmQueen\r\nHere you can configure a new main server which will execute the virtual honeypots. You don't need much. Just SSH credentials, IP and network interface to use.\r\n\r\n![SwarmQueen Configuration](https://github.com/ytisf/apate/raw/master/docs/screenshots/newServer.jpg \"SwarmQueen Configuration\")\r\n\r\n### Configure WorkingBees\r\nHere you create a new honeypot and define the settings. `Device` is the personality of that VM. This is how it should behave on an OS level. `Services` is a drop-down menu to choose which services should be running on that machine, and the `Relevant Device` is the server which will run the honeypot.\r\n\r\n![newWorkingBee](https://github.com/ytisf/apate/raw/master/docs/screenshots/newHoneypot.jpg \"Configure a new WorkingBee\")\r\n\r\n### Start WorkingBees\r\nThis is where you can see a list of all honeypots in the system. You can run them, download the configurations, delete them or view their logs. Hit the sunshine to start up the honeypot.\r\n\r\n![fire](https://github.com/ytisf/apate/raw/master/docs/screenshots/startHoneypot.jpg \"Fire It 'up\")\r\n\r\n### View WorkingBees Raw Logs\r\nIn this screen you can see any packet that came in, length, flags, ports etc. This is a parsed version of the regular `honeyd` log.\r\n\r\n![raw](https://github.com/ytisf/apate/raw/master/docs/screenshots/listLogs.jpg \"raw\")\r\n\r\n### View Evaluations\r\nSo this is where you see the actual analysis. If you get one ping attempt or just 2 or 3 ports accessed you will be able to see it in the raw log but not here. This is a logic that analyses the regular log and prints out what it understand from it. So ping sweeps and port scans should be visible here.\r\n\r\n![moneyshot](https://github.com/ytisf/apate/raw/master/docs/screenshots/listEvents.jpg \"moneyshot\")\r\n\r\n\r\n## API\r\n\r\nCurrently, **Apate** is only able to send out data with the API. Later, after authentication is added, we will add support for writing data into the system.\r\n\r\nExamples of information you can get from the API:\r\n```bash\r\nwget http://127.0.0.1:8000/api/devices\r\nwget http://127.0.0.1:8000/api/honeypots\r\nwget http://127.0.0.1:8000/api/logs\r\nwget http://127.0.0.1:8000/api/evals\r\n```\r\nEach will return a `json` object with the list of devices, honeypots, logs and evaulations by the system.\r\n\r\n\r\n## Work Flow\r\n\r\nSo this is how **Apate** operates on the logical level.\r\n![logic](https://github.com/ytisf/apate/raw/master/docs/logic.svg \"Logic\")\r\n\r\nAnd this is how it operates with the actual code and classes.\r\n![flowchart](https://github.com/ytisf/apate/raw/master/docs/internals.svg \"internals\")\r\n\r\n\r\n## License\r\n\r\n**Apate** was developed by *Yuval tisf Nativ* for [Agoda Services Co.](https://www.agoda.com) and is released under GPLv3.\r\n\r\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n## Change log\r\n\r\n### 0.9 Beta Release\r\n- [x] Convert ssh_wrapper to use Paramiko only.\r\n- [x] Create a requirements file.\r\n- [x] Create remote API to push and read the information from the system.\r\n- [ ] Fix the 'Close' function on HoneyDWrapper.\r\n- [ ] Enable ping back sleep time to user interface.\r\n- [ ] Update screenshots in README.md\r\n\r\n### v1.0\r\n- [x] Finish Export settings (HP and Device)\r\n- [ ] Make logging a part of the DB.\r\n- [ ] Create an Edit Settings form.\r\n- [ ] When loading, if active receptions are active, create listener.\r\n- [ ] Do an story line of how this works and what it does during various stages.\r\n- [ ] Add Import settings.\r\n- [ ] Fix diplay graphs at dashboard.\r\n\r\n### Later\r\n- [ ] Harvest services log as well.\r\n- [ ] Modify harvesting script that if failed 5 times, change delay to 15 minutes and count 20 misses before killing itself.\r\n- [ ] Add the harvester script as a service.\r\n- [ ] Authentication!\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}